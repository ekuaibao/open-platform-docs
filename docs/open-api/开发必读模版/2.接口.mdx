import Control from "../../../components/Control";

# 接口名称

<!----------------------------------------------------------------——
！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！
1. 当客户询问一个接口功能时，对于不清楚的地方，切不可自己尝试，一定要和开发确认，避免再次发生将 bug 录入文档，对后续开发带来严重影响。
2. 一个模块下的接口顺序建议按照 【 创建 - 获取 - 更新 】 的顺序。
！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！
--------------------------------------------------------------———-->
<Control
  method="PUT"
  url="/api/openapi/v2/datalink/createPlatform"
  description="uploads an image"
/>





<!-------------------------------------------------------------————-
  第一部分： 接口路径 【 Query Parameters + Path Parameters -> 示例 】
------------------------------------------------------------——----->



#### Path Parameters:

| 名称             | 类型     |  描述     | 必填      | 默认值  | 备注                                         |
| :---------      | :------  | :------  | :------- |  -     | :------------------------------------------  |
| **accessToken** | String |  认证token  | 必填      |   -    | [通过授权接口获取](/getting-started/auth.html)  |




#### Query Parameters:

| 名称             | 类型     |  描述     | 必填      | 默认值  | 备注                                         |
| :---------      | :------  | :------  | :------- |  -     | :------------------------------------------  |
| **accessToken** | String |  认证token  | 必填      |   -    | [通过授权接口获取](/getting-started/auth.html)  |






<!-------------------------------------------------------------————-
第二部分： 接口参数 【 Body Parameters -> CURL 】
------------------------------------------------------------——----->
#### Body Parameters:

| 名称             | 描述     | 类型      | 是否必填      | 默认值  | 备注                                         |
| :---------      | :------  | :------  | :------- |  -     | :------------------------------------------  |
| **name** | 平台名称 | String   | 必填      |   -    | 不能超过20字。  |
| **icon** | 平台图标 | String   | 非必填      |   -    | 已上传到服务器的图标参数。 |
| **icon/key** | 文件key | String   | 必填      |   -    | -  |
| **icon/fileId** | 文件id | String   | 必填      |   -    | -  |
| **icon/fileName** | 文件名称 | String    | 必填      |   -    | -  |
| **type** | 平台类别 | DATA_LINK &#124;  IKCRM    | 必填      |   DATA_LINK    | IKCRM：爱客CRM(爱客只能创建一个，name统一为爱客CRM)。  |
| **adminIds** | 管理员id | `Array<String>`   | 必填      |   -    |   |
| **iconUrl** | 网络图片 | String   | 非必填      |   -    |  如果填写则优先使用此图标。大小不超过 2M，格式可为 jpg、jpeg、png。 |
| **importMethod** | 数据导入方式 | Array< excel &#124; api &#124; ebot &#124; flow>  | 必填      |   -    |  目前设置 importMethod 无效。但是由于迭代遗留问题，依然需要填写且不为空。  |


>⚠️ 注意：

>目前 importMethod 为无效字段，即设置后返回为空。此处为历史迭代遗留问题，目前依然需要填写且不为空。





<br/>

#### CURL:

```json
curl --location --request PUT 'https://app.ekuaibao.com/api/openapi/v2/datalink/createPlatform?accessToken=cxEbrzNJSA3A00' \
--header 'Content-Type: application/json' \
--data-raw '{
    "name": "互联测试111",
    "icon":{
        "key": "applet-ekb-web2-1556186636163-817-.png",
        "fileId": "yKI91530GIto00",
        "fileName": "tubiao.png"
    },
    "type": "DATA_LINK",
    "importMethod": ["excel", "api"],
    "adminIds": ["34A73EyI8A0w00:Kh0bnmDTrU9g00"],
    "iconUrl": "https://www.ikcrm.com/assets/pc_baidu_ad/2.png"
}'
```




<!-------------------------------------------------------------————-
第三部分： 返回结果 【 成功响应 + 失败响应 】
------------------------------------------------------------——----->
<br/>

#### 成功响应:

```json
{
    "value": {
        "version": 1,
        "active": true, // 是否启用
        "createTime": 1597657662045,
        "updateTime": 1597657662045,
        "corporationId": "34A73EyI8A0w00", // 企业id
        "name": "互联测试11", // 平台名称
        "nameSpell": "HULIANCESHI11",
        "icon": {
            "key": "applet-ekb-web2-b93dbb8d-23ca-4386-a339-e075844d8440-2.png",
            "fileId": "DLIbrAHda85Q00",
            "fileName": "2.png"
        },
        "id": "PgQbrAHda85Y00", // 平台id
        "importMethod": [],
        "adminIds": [
            "34A73EyI8A0w00:Kh0bnmDTrU9g00"
        ],
        "type": "DATA_LINK",
        "groupType": "NORMAL",
        "properties": null
    }
}
```

#### 失败响应:

请确保平台名称是唯一的，否则会返回如下响应：

```json
平台名称不能重复
```


