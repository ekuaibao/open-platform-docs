# 更新员工证件信息

import Control from "@theme/Control";

<Control
method="POST"
url="/api/openapi/v1.1/staffs/certificate/$`staffId`"
/>

<details>
  <summary><b>更新日志</b></summary>
  <div>

  [**1.26.0**](/docs/open-api/notice/update-log#1260) -> 🆕 新增了本接口。<br/>

  </div>
</details>

## Path Parameters

| 名称 | 类型 | 描述 | 是否必填 | 默认值 | 备注 |
| :--- | :--- | :--- | :--- |:--- | :--- |
| **staffId** | String | 员工ID或CODE | 必填 | - | **与 `type` 保持一致**，通过 [获取员工列表](/docs/open-api/corporation/get-all-staffs) 获取 | 

## Query Parameters

| 名称 | 类型 | 描述 | 是否必填 | 默认值 | 备注 |
| :--- | :--- | :--- | :--- |:--- | :--- |
| **accessToken** | String | 认证token | 必填  | - | 通过 [获取授权](/docs/open-api/getting-started/auth) 获取 `accessToken` |
| **type**        | String | 参数类型   | 非必填 | id | `id` : 传id值 &emsp; `code` : 传code值<br/>**请保证 `code` 唯一，『员工』和『部门』的 `code` 在系统上允许为空和重复** |

## Body Parameters

| 名称                         | 类型      | 描述      | 是否必填 | 默认值 | 备注                                                                                                                                                                               |
|:---------------------------|:--------|:--------|:-----|:----|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **--**                     | Array   | 外层数组    | 必填   | -   | **单一证件类型仅限更新 1 次**<br/>更新逻辑如下：传参与数据库证件信息做比对<br/>1.传参为数据库 **不存在** 的证件信息，则 **新增**<br/>2.传参为数据库 **存在** 的证件信息，则 **全量更新**<br/>例如：传参只有“护照”证件信息，数据库存在“护照”、“身份证”，<br/>则更新“护照”信息，“身份证”被删除<br/> |
| **&emsp; ∟ type**          | String  | 证件类型    | 必填   | -   | 传参详见【[证件类型对照表](/docs/open-api/contacts/update-certificate-byStaffId#证件类型对照表)】                                                                                                    |
| **&emsp; ∟ number**        | String  | 证件号码    | 必填   | -   | 证件类型为 **中国大陆居民身份证** 时，需确保身份证号码格式正确                                                                                                                                               |
| **&emsp; ∟ validDate**     | Long    | 证件有效期   | 非必填  | -   | 毫秒级时间戳                                                                                                                                                                           |
| **&emsp; ∟ extended**      | Boolean | 是否长期有效  | 非必填   | -   | `true` : 是&emsp;&emsp;`false` : 否                                                                                                                                                |
| **&emsp; ∟ birthDate**     | Long    | 出生日期    | 非必填   | -   | 毫秒级时间戳                                                                                                                                                                           |
| **&emsp; ∟ gender**        | String  | 性别      | 非必填   | -   | `MALE` : 男&emsp;&emsp;`FEMALE` : 女                                                                                                                                               |
| **&emsp; ∟ nationality**   | Object  | 国籍      | 非必填   | -   | 传参详见【[国籍/签发地对照表](/docs/open-api/contacts/update-certificate-byStaffId#国籍签发地对照表)】                                                                                                 |
| **&emsp; ∟ issuancePlace** | Object  | 签发地     | 非必填   | -   | 传参详见【[国籍/签发地对照表](/docs/open-api/contacts/update-certificate-byStaffId#国籍签发地对照表)】                                                                                                 |
| **&emsp; ∟ lastEngName**   | String  | 英文姓(拼音) | 非必填   | -   | 只支持英文字母，最长支持50个字符，会自动转化为大写字母保存                                                                                                                                                   |
| **&emsp; ∟ firstEngName**  | String  | 英文名(拼音) | 非必填   | -   | 只支持英文字母，最长支持50个字符，会自动转化为大写字母保存                                                                                                                                                   |

## CURL
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
<TabItem value="中国大陆居民身份证" label="中国大陆居民身份证" default>

```json
curl --location --request POST 'https://app.ekuaibao.com/api/openapi/v1.1/staffs/certificate/$Tdk3tgber501v0:rcX3IJYjnw0nvw?accessToken=ID01uXVtKZotzU%3ATdk3tgber501v0&type=id' \
--header 'Content-Type: application/json' \
--data '[
    {
        "type": "ID_CARD",              //证件类型，中国大陆居民身份证
        "number": "110210198905192564", //身份证号码
        "birthDate": 611506800000,      //出生日期，1989-05-19
        "gender": "MALE"                //性别
    }
]'
```
</TabItem>
<TabItem value="护照" label="护照">

```json
curl --location --request POST 'https://app.ekuaibao.com/api/openapi/v1.1/staffs/certificate/$Tdk3tgber501v0:rcX3IJYjnw0nvw?accessToken=ID01uXVtKZotzU%3ATdk3tgber501v0&type=id' \
--header 'Content-Type: application/json' \
--data '[
    {
        "type": "PASSPORT",         //证件类型，护照
        "number": "123412341234",   //护照号码
        "validDate": 1703865600000, //证件有效期，2023-12-30
        "extended": false,          //是否长期有效，为“true”时，证件有效期不填
        "nationality": "0006",      //国籍
        "issuancePlace": "0006",    //签发地
        "lastEngName": "CAT",       //英文姓(拼音)
        "firstEngName": "DOGE"      //英文名(拼音)
    }
]'
```
</TabItem>
<TabItem value="军人证" label="军人证/港澳居民来往内地通行证/台湾居民来往内地通行证/大陆居民来往台湾通行证/港澳通行证">

```json
curl --location --request POST 'https://app.ekuaibao.com/api/openapi/v1.1/staffs/certificate/$Tdk3tgber501v0:rcX3IJYjnw0nvw?accessToken=ID01uXVtKZotzU%3ATdk3tgber501v0&type=id' \
--header 'Content-Type: application/json' \
--data '[
    {
        "type": "SERVICEMAN_CARD",  //证件类型，军人证/港澳居民来往内地通行证/台湾居民来往内地通行证/大陆居民来往台湾通行证/港澳通行证
        "number": "123412341234",   //证件号码
        "validDate": 1703865600000, //证件有效期，2023-12-30
        "extended": false,          //是否长期有效，为“true”时，证件有效期不填
        "lastEngName": "GANG",      //英文姓(拼音)
        "firstEngName": "SEVEN"     //英文名(拼音)
    }
]'
```
</TabItem>
<TabItem value="外国人永久居留身份证" label="外国人永久居留身份证">

```json
curl --location --request POST 'https://app.ekuaibao.com/api/openapi/v1.1/staffs/certificate/$Tdk3tgber501v0:rcX3IJYjnw0nvw?accessToken=ID01uY0pP25jj8%3ATdk3tgber501v0&type=id' \
--header 'Content-Type: application/json' \
--data '[
    {
        "type": "FOREIGNERS_LIVE",  //证件类型，外国人永久居留身份证
        "number": "123412341234",   //证件号码
        "validDate": 1703865600000, //证件有效期，2023-12-30
        "extended": false,          //是否长期有效，为“true”时，证件有效期不填
        "nationality": "0006",      //国籍
        "lastEngName": "LI",        //英文姓(拼音)
        "firstEngName": "BAI"       //英文名(拼音)
    }
]'
```
</TabItem>
<TabItem value="港澳台居民居住证" label="港澳台居民居住证">

```json
curl --location --request POST 'https://app.ekuaibao.com/api/openapi/v1.1/staffs/certificate/$Tdk3tgber501v0:rcX3IJYjnw0nvw?accessToken=ID01uY0pP25jj8%3ATdk3tgber501v0&type=id' \
--header 'Content-Type: application/json' \
--data '[
    {
        "type": "HONG_KONG_MACAO_TAIWAN", //证件类型，港澳台居民居住证
        "number": "123412341234",         //证件号码
        "validDate": 1703865600000,       //证件有效期，2023-12-30
        "extended": false,                //是否长期有效，为“true”时，证件有效期不填
        "nationality": "0006"             //国籍
    }
]'
```
</TabItem>
<TabItem value="其他" label="其他">

```json
curl --location --request POST 'https://app.ekuaibao.com/api/openapi/v1.1/staffs/certificate/$Tdk3tgber501v0:rcX3IJYjnw0nvw?accessToken=ID01uY0pP25jj8%3ATdk3tgber501v0&type=id' \
--header 'Content-Type: application/json' \
--data '[
    {
        "type": "OTHER",             //证件类型，其他
        "number": "123412341234",    //证件号码
        "validDate": 1703865600000,  //证件有效期，2023-12-30
        "extended": false            //是否长期有效，为“true”时，证件有效期不填
    }
]'
```
</TabItem>
</Tabs>

### 证件类型对照表
| 证件类型                         | 描述          |
|:-----------------------------|:------------|
| **ID_CARD**                  | 中国大陆居民身份证   |
| **PASSPORT**                 | 护照          |
| **SERVICEMAN_CARD**          | 军人证         |
| **HONG_KONG_AND_MACAO_GO**   | 港澳居民来往内地通行证 |
| **TAIWAN_GO**                | 台湾居民来往内地通行证 |
| **FOREIGNERS_LIVE**          | 外国人永久居留身份证  |
| **HONG_KONG_MACAO_TAIWAN**   | 港澳台居民居住证    |
| **MAINLAND_TO_TAIWAN**       | 大陆居民来往台湾通行证 |
| **HONG_KONG_AND_MACAO_PASS** | 港澳通行证       |
| **OTHER**                    | 其他          |

### 国籍/签发地对照表
| 编码       | 描述        | 编码       | 描述         | 编码       | 描述         | 编码       | 描述         | 编码     | 描述         |
|:---------|:----------|:---------|:-----------|:---------|:-----------|:---------|:-----------|:-------|:-----------|
| **0001** | 	中国大陆     | **0051** |	白俄罗斯		| **0101** |	吉尔吉斯斯坦	| **0151** |	莫桑比克		| **0201** |	托克劳群岛          |
| **0002** | 	中国香港	    | **0052** |	百慕大			| **0102** |	几内亚		| **0152** |	墨西哥			| **0202** |	瓦利斯和富图纳群岛  |
| **0003** | 	中国澳门	    | **0053** |	保加利亚		| **0103** |	几内亚比绍	| **0153** |	纳米比亚		| **0203** |	瓦努阿图	    |
| **0004** | 	中国台湾	    | **0054** |	贝宁			| **0104** |	加纳		| **0154** |	南非			| **0204** |	危地马拉	    |
| **0005** | 	加拿大	     | **0055** |	比利时			| **0105** |	加蓬		| **0155** |	南极			| **0205** |	委内瑞拉	    |
| **0006** | 	美国		     | **0056** |	冰岛			| **0106** |	捷克		| **0156** |	南斯拉夫		| **0206** |	文莱		    |
| **0007** | 	俄罗斯		    | **0057** |	波多黎各		| **0107** |	津巴布韦	| **0157** |	南苏丹			| **0207** |	乌干达		    |
| **0008** | 	法国		     | **0058** |	波兰			| **0108** |	喀麦隆		| **0158** |	瑙鲁			| **0208** |	乌克兰		    |
| **0009** | 	意大利		    | **0059** |	波斯尼亚和黑塞哥维那   	| **0109** |	卡塔尔		| **0159** |	尼泊尔			| **0209** |	乌拉圭		    |
| **0010** | 	英国		     | **0060** |	玻利维亚		| **0110** |	开曼群岛	| **0160** |	尼加拉瓜		| **0210** |	乌兹别克斯坦	    |
| **0011** | 	德国		     | **0061** |	伯利兹			| **0111** |	科摩罗		| **0161** |	尼日尔			| **0211** |	西班牙		    |
| **0012** | 	马来西亚	    | **0062** |	博茨瓦纳		| **0112** |	科索沃		| **0162** |	尼日利亚		| **0212** |	西撒哈拉国	    |
| **0013** | 	澳大利亚	    | **0063** |	不丹			| **0113** |	科特迪瓦	| **0163** |	纽埃（新西兰属）	| **0213** |	西萨摩亚	    |
| **0014** | 	印度尼西亚	   | **0064** |	布基纳法索		| **0114** |	科威特		| **0164** |	挪威			| **0214** |	希腊		    |
| **0015** | 	菲律宾		    | **0065** |	布隆迪			| **0115** |	克罗地亚	| **0165** |	帕劳群岛		| **0215** |	新喀里多尼亚	    |
| **0016** | 	新西兰		    | **0066** |	朝鲜			| **0116** |	肯尼亚		| **0166** |	皮特肯群岛		| **0216** |	匈牙利		    |
| **0017** | 	新加坡		    | **0067** |	赤道几内亚		| **0117** |	库克群岛	| **0167** |	葡萄牙			| **0217** |	叙利亚		    |
| **0018** | 	泰国		     | **0068** |	丹麦			| **0118** |	拉脱维亚	| **0168** |	瑞典			| **0218** |	牙买加		    |
| **0019** | 	日本		     | **0069** |	东帝汶			| **0119** |	莱索托		| **0169** |	瑞士			| **0219** |	亚美尼亚	    |
| **0020** | 	韩国		     | **0070** |	东萨摩亚(美)		| **0120** |	老挝		| **0170** |	萨尔瓦多		| **0220** |	也门		    |
| **0021** | 	越南		     | **0071** |	多哥			| **0121** |	黎巴嫩		| **0171** |	塞尔维亚		| **0221** |	伊拉克		    |
| **0022** | 	印度		     | **0072** |	多米尼加共和国		| **0122** |	立陶宛		| **0172** |	塞拉利昂		| **0222** |	伊朗		    |
| **0023** | 	柬埔寨		    | **0073** |	厄瓜多尔		| **0123** |	利比里亚	| **0173** |	塞内加尔		| **0223** |	以色列		    |
| **0024** | 	阿尔巴尼亚	   | **0074** |	厄立特里亚		| **0124** |	利比亚		| **0174** |	塞浦路斯		| **0224** |	约旦		    |
| **0025** | 	阿尔及利亚	   | **0075** |	法罗群岛		| **0125** |	列支敦士登	| **0175** |	塞舌尔			| **0225** |	扎伊尔		    |
| **0026** | 	阿富汗		    | **0076** |	法属波利尼西亚		| **0126** |	留尼汪（法属）	| **0176** |	沙特阿拉伯		| **0226** |	乍得		    |
| **0027** | 	阿根廷		    | **0077** |	法属圭亚那		| **0127** |	卢森堡		| **0177** |	尚比亚			| **0227** |	直布罗陀	    |
| **0028** | 	阿联酋		    | **0078** |	梵蒂冈			| **0128** |	卢旺达		| **0178** |	圣巴泰勒米		| **0228** |	智利		    |
| **0029** | 	阿鲁巴		    | **0079** |	斐济			| **0129** |	罗马尼亚	| **0179** |	圣多美和普林西比	| **0229** |	中非共和国	    |
| **0030** | 	阿曼		     | **0080** |	芬兰			| **0130** |	马达加斯加	| **0180** |	圣卢西亚		| 	      |			    |
| **0031** | 	阿塞拜疆	    | **0081** |	佛得角			| **0131** |	马尔代夫	| **0181** |	圣马丁岛		| 	      |			    |
| **0032** | 	阿森松		    | **0082** |	福克兰群岛		| **0132** |	马耳他		| **0182** |	圣马力诺		| 	      |			    |
| **0033** | 	埃及	 	    | **0083** |	冈比亚			| **0133** |	马拉维		| **0183** |	圣皮埃尔和密克隆岛	| 	      |			    |
| **0034** | 	埃塞俄比亚	   | **0084** |	刚果共和国		| **0134** |	马里		| **0184** |	圣文森特和格林纳丁斯   	| 	      |			    |
| **0035** | 	爱尔兰		    | **0085** |	哥伦比亚		| **0135** |	马里亚那群岛	| **0185** |	斯里兰卡		| 	      |			    |
| **0036** | 	爱沙尼亚	    | **0086** |	哥斯达黎加		| **0136** |	马其顿共和国	| **0186** |	斯洛伐克		| 	      |			    |
| **0037** | 	安道尔		    | **0087** |	格林纳达		| **0137** |	马绍尔群岛	| **0187** |	斯洛文尼亚		| 	      |			    |
| **0038** | 	安哥拉		    | **0088** |	格陵兰			| **0138** |	马提尼克	| **0188** |	斯威士兰		| 	      |			    |
| **0039** | 	安圭拉		    | **0089** |	格鲁吉亚		| **0139** |	马约特		| **0189** |	苏丹			| 	      |			    |
| **0040** | 	安提瓜和巴布达	 | **0090** |	古巴			| **0140** |	毛里求斯	| **0190** |	苏里南			| 	      |			    |
| **0041** | 	奥地利		    | **0091** |	关岛			| **0141** |	毛里塔尼亚	| **0191** |	所罗门群岛		| 	      |			    |
| **0042** | 	巴巴多斯	    | **0092** |	圭亚那			| **0142** |	蒙古		| **0192** |	索马里			| 	      |			    |
| **0043** | 	巴布亚新几内亚	 | **0093** |	哈萨克斯坦		| **0143** |	蒙特塞拉特岛	| **0193** |	塔吉克斯坦		| 	      |			    |
| **0044** | 	巴哈马		    | **0094** |	海地			| **0144** |	孟加拉国	| **0194** |	坦桑尼亚		| 	      |			    |
| **0045** | 	巴基斯坦	    | **0095** |	荷兰			| **0145** |	秘鲁		| **0195** |	汤加			| 	      |			    |
| **0046** | 	巴拉圭		    | **0096** |	荷属安第列斯		| **0146** |	密克罗尼西亚	| **0196** |	特立尼达和多巴哥	| 	      |			    |
| **0047** | 	巴勒斯坦	    | **0097** |	黑山			| **0147** |	缅甸		| **0197** |	突尼斯			| 	      |			    |
| **0048** | 	巴林		     | **0098** |	洪都拉斯		| **0148** |	摩尔多瓦	| **0198** |	图瓦卢			| 	      |			    |
| **0049** | 	巴拿马		    | **0099** |	基里巴斯		| **0149** |	摩洛哥		| **0199** |	土耳其			| 	      |			    |
| **0050** | 	巴西		     | **0100** |	吉布提			| **0150** |	摩纳哥		| **0200** |	土库曼斯坦		| 	      |			    |


## 成功响应
```json
{
    "value": {
        "certificateIds": [  //新增或更新的证件信息ID
            "Tdk3tgber501v0:rcX3IJYjnw0nvw:ID_CARD"
        ],
        "savedTypes": [      //更新成功的证件类型
            "ID_CARD"
        ],
        "notSavedTypes": []  //更新失败的证件类型，失败原因：1.传参与数据库一致；2.更新次数超过1次
    }
}
```

## 失败响应

| HTTP状态码 | 错误码 | 描述 | 排查建议                                       |
|:--------| :--- | :--- |:-------------------------------------------|
| **412** | - | 未查找到此员工信息 | 请确认 `staffId`（员工ID或CODE）与 `type`（参数类型）保持一致 | 
| **412** | - | 证件号码格式错误 | 请确认 `number`（证件号码）符合证件类型的格式要求              | 
| **412** | - | 证件号码不能为空 | 请确认 `number`（证件号码）不为空                      | 
| **412** | - | 证件类型不能为空 | 请确认 `type`（证件类型）不为空                        | 
