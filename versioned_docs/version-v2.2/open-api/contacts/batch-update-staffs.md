# æ‰¹é‡ä¿®æ”¹å‘˜å·¥

import Control from "@theme/Control";

<Control
method="PUT"
url="/api/openapi/v1.1/staffs/batch/update"
/>

<details>
  <summary><b>æ›´æ–°æ—¥å¿—</b></summary>
  <div>

  [**1.20.0**](/docs/open-api/notice/update-log#1200) -> ğŸ æ¥å£æ”¯æŒä¼ å…¥ `nickName`ï¼ˆå‘˜å·¥åˆ«åï¼‰å­—æ®µï¼Œä¸”å“åº”ä¿¡æ¯ä¸­æ–°å¢äº†è¯¥å­—æ®µã€‚<br/>
  [**1.19.0**](/docs/open-api/notice/update-log#1190) -> ğŸ†• æ–°å¢äº†æœ¬æ¥å£ã€‚<br/>

  </div>
</details>

:::caution
- ä½¿ç”¨æ­¤æ¥å£æ›´æ–°çš„å‘˜å·¥ï¼ˆåŒ…æ‹¬åœ¨ç³»ç»Ÿä¸Šåˆ›å»ºçš„ï¼‰ï¼Œæ›´æ–°åæ‚¨å°† **æ— æ³•åœ¨åˆæ€ç•Œé¢ä¸Šç»´æŠ¤å…¶é€šè®¯å½•**ï¼Œåªèƒ½é€šè¿‡æ¥å£æ›´æ–°ä¿¡æ¯å’Œåˆ é™¤ã€‚
:::

## Query Parameters

| åç§° | ç±»å‹ | æè¿° | æ˜¯å¦å¿…å¡« | é»˜è®¤å€¼ | å¤‡æ³¨ |
| :--- | :--- | :--- | :--- |:--- | :--- |
| **accessToken** | String | è®¤è¯token | å¿…å¡« | - | é€šè¿‡ [è·å–æˆæƒ](/docs/open-api/getting-started/auth) è·å– `accessToken` |

## Body Parameters

| åç§° | ç±»å‹ | æè¿° | æ˜¯å¦å¿…å¡« | é»˜è®¤å€¼ | å¤‡æ³¨ |
| :--- | :--- | :--- | :--- |:--- | :--- |
| **staffList**                          | Array  | æ‰¹é‡ä¿®æ”¹çš„å‘˜å·¥         | å¿…å¡«  | - | å‘˜å·¥ä¿¡æ¯æ•°ç»„, **æœ€å¤§ä¸èƒ½è¶…è¿‡ `100` æ¡** |
| **&emsp; âˆŸ id**                        | String  | å‘˜å·¥ID             | å¿…å¡«   | - | å¯ä»¥é€šè¿‡ [è·å–å‘˜å·¥åˆ—è¡¨](/docs/open-api/corporation/get-all-staffs) è·å– |
| **&emsp; âˆŸ name**                      | String  | å‘˜å·¥å§“å            | å¿…å¡«   | - | å‘˜å·¥å§“å |
| **&emsp; âˆŸ nickName**                  | String  | å‘˜å·¥åˆ«å            | éå¿…å¡« | - | å‘˜å·¥åˆ«å |
| **&emsp; âˆŸ code**                      | String  | å·¥å·               | éå¿…å¡«  | - | å·¥å· |
| **&emsp; âˆŸ cellphone**                 | String  | æ‰‹æœºå·             | éå¿…å¡«  | - | å¦‚æœæ‰‹æœºå·ä¸ºå›½å¤–æ‰‹æœºå·ï¼Œé‚£ä¹ˆåº”ä¸º : "(åŒºå·)æ‰‹æœºå·" |
| **&emsp; âˆŸ email**                     | String  | é‚®ç®±	            | éå¿…å¡«  | - | å¯ä»¥ä¸ä¼ ï¼Œä½†æ˜¯ä¸å¯ä»¥ä¼  `""` |
| **&emsp; âˆŸ note**                      | String  | å¤‡æ³¨	            | éå¿…å¡«  | - | å¤‡æ³¨ |
| **&emsp; âˆŸ defaultDepartment**         | String  | é»˜è®¤éƒ¨é—¨IDæˆ–CODE    | éå¿…å¡«  | - | æ‰€ä¼ é»˜è®¤éƒ¨é—¨å¿…é¡»åœ¨ `departments` é‡Œ |
| **&emsp; âˆŸ departments**               | Array   | æ‰€åœ¨éƒ¨é—¨IDæˆ–CODEï¼Œè‡³å°‘1ä¸ª	| éå¿…å¡«  | - | ä¸ `defaultDepartment` å‚æ•°é¡»åŒæ—¶å­˜åœ¨ï¼Œéƒ½ä¼ æˆ–éƒ½ä¸ä¼  |
| **&emsp; âˆŸ modifyAccountPhone**        | Boolean | æ˜¯å¦ä¿®æ”¹ç™»å½•æ‰‹æœºå·	| éå¿…å¡«  | false | `true` : æ˜¯ï¼Œä¿®æ”¹åæ‰‹æœºå·ä¸º `cellphone`<br/>**ä¸å¯ä¿®æ”¹æˆå·²æ³¨å†Œä¼ä¸šä¸”ä¼ä¸šå¯ç”¨ä¸­çš„æ‰‹æœºå·**<br/><!--å¯ä»¥ä¿®æ”¹æˆæœªæ³¨å†Œä¼ä¸šæˆ–ä¼ä¸šå‡è§£æ•£çš„æ‰‹æœºå·<br/>-->`false` : å¦ |
| **&emsp; âˆŸ modifyAccountEmail**        | Boolean | æ˜¯å¦ä¿®æ”¹ç™»å½•é‚®ç®±	    | éå¿…å¡«  | false | `true` : æ˜¯ï¼Œä¿®æ”¹åé‚®ç®±ä¸º `email`<br/>**ä¸å¯ä¿®æ”¹æˆå·²æ³¨å†Œä¼ä¸šä¸”ä¼ä¸šå¯ç”¨ä¸­çš„é‚®ç®±**<br/><!--å¯ä»¥ä¿®æ”¹æˆæœªæ³¨å†Œä¼ä¸šæˆ–ä¼ä¸šå‡è§£æ•£çš„é‚®ç®±<br/>-->`false` : å¦ |
| **&emsp; âˆŸ staffCustomForm**           | Object  | è‡ªå®šä¹‰å­—æ®µ	        | éå¿…å¡«  | - | å‘˜å·¥è‡ªå®šä¹‰å­—æ®µ |
| **&emsp;&emsp; âˆŸ rankType**            | String  | èŒçº§	            | éå¿…å¡«  | - | é€šè¿‡ [è·å–è‡ªå®šä¹‰æ¡£æ¡ˆé¡¹](/docs/open-api/dimensions/get-dimension-items) è·å– |
| **&emsp;&emsp; âˆŸ postType**            | String  | å²—ä½	            | éå¿…å¡«  | - | é€šè¿‡ [è·å–è‡ªå®šä¹‰æ¡£æ¡ˆé¡¹](/docs/open-api/dimensions/get-dimension-items) è·å– |
| **&emsp;&emsp; âˆŸ base**                | String  | å¸¸é©»åœ°             | éå¿…å¡«  | - | å‚è€ƒæ ¼å¼ : "[{\"key\":\"8\",\"label\":\"åŒ—äº¬å¸‚/æµ·æ·€åŒº\"}]" |
| **&emsp;&emsp; âˆŸ u_å­—æ®µå**             | String  | è‡ªå®šä¹‰å­—æ®µ	        | éå¿…å¡«  | - | è‡ªå®šä¹‰å­—æ®µï¼Œæ ¼å¼ä¸º"u\_å­—æ®µå"ï¼Œä¾‹å¦‚ : u\_é¡¹ç›®<br/>å¯é€šè¿‡ [è·å–å‘˜å·¥è‡ªå®šä¹‰å­—æ®µ](/docs/open-api/contacts/get-allCustomeProperty) è·å–å­—æ®µå |

:::tip
- `base`ï¼ˆå¸¸é©»åœ°ï¼‰å‚æ•°æ‹¼æ¥è¯´æ˜ï¼š<br/>
  é€šè¿‡ **[è·å–åŸå¸‚åˆ—è¡¨æ•°æ®](/docs/open-api/basedata/get-basedata-city)** æ¥å£è·å–æ•°æ®åï¼Œæ‰¾åˆ°å¯¹åº”åŸå¸‚ã€‚
    - `id` å¯¹åº” `key`
    - `fullName` å¯¹åº” `label`

![åŸå¸‚å­—æ®µæ‹¼æ¥ç¤ºä¾‹](images/åŸå¸‚å­—æ®µæ‹¼æ¥ç¤ºä¾‹.png)
:::

## CURL

```json
curl --location --request PUT 'https://app.ekuaibao.com/api/openapi/v1.1/staffs/batch/update?accessToken=ID01q4lptRWBIz%3ATsI3tt8KjF4S7M' \
--header 'Content-Type: application/json' \
--data-raw '{
    "staffList": [
        {
            "id": "TsI3tt8KjF4S7M:1222234",         //å‘˜å·¥ID
            "name": "æµ‹è¯•1",                         //å‘˜å·¥å§“å
            "nickName": "æµ‹1",                      //å‘˜å·¥åˆ«å
            "code": "00001",                        //å‘˜å·¥å·¥å·
            "cellphone": "17711111126",             //æ‰‹æœºå·
            "email": "17718535962@163.com",         //é‚®ç®±
            "note": "æ‰¹é‡ä¿®æ”¹",                       //å¤‡æ³¨
            "defaultDepartment": "TsI3tt8KjF4S7M",  //é»˜è®¤éƒ¨é—¨
            "departments": [                        //æ‰€åœ¨éƒ¨é—¨
                "TsI3tt8KjF4S7M"
            ],
            "modifyAccountPhone" : false,           //æ˜¯å¦ä¿®æ”¹å‘˜å·¥æ‰‹æœºå·
            "modifyAccountEmail" : false,           //æ˜¯å¦ä¿®æ”¹å‘˜å·¥æ‰‹æœºå·
            "staffCustomForm": {                    //å‘˜å·¥è‡ªå®šä¹‰å­—æ®µé›†åˆ
                "postType":"ID_3D5RavktVRM",        //å²—ä½
                "rankType":"ID_3D5RavktTRM",        //èŒçº§
                "base": "[{\"key\":\"8\",\"label\":\"åŒ—äº¬å¸‚/æµ·æ·€åŒº\"}]"  //å¸¸é©»åœ°
            }
        },
        {
            "id": "TsI3tt8KjF4S7M:BbP3CdaKi$VcRw",
            "name": "å¼ å›½é˜³å°å·",
            "nickName": "å°é˜³",
            "code": "00002",
            "cellphone": "18515257800",
            "email": "18515257800@163.com",
            "note": "æ‰¹é‡ä¿®æ”¹",
            "defaultDepartment": "TsI3tt8KjF4S7M",
            "departments": [
                "TsI3tt8KjF4S7M"
            ],
            "modifyAccountPhone" : false,
            "modifyAccountEmail" : false,
            "staffCustomForm": {
                "postType": "ID_3D5RavktVRM", 
                "rankType": "ID_3D5RavktTRM",
                "base": "[{\"key\":\"8\",\"label\":\"åŒ—äº¬å¸‚/æµ·æ·€åŒº\"}]"
            }
        }
    ]
}'
```

## æˆåŠŸå“åº”
```json
{
    "items": [
        {
            "id": "TsI3tt8KjF4S7M:1222234",           //å‘˜å·¥ID
            "name": "æµ‹è¯•1",                           //å‘˜å·¥å§“å
            "nickName": "æµ‹1",                        //å‘˜å·¥åˆ«å
            "code": "00001",                          //å‘˜å·¥å·¥å·
            "departments": [                          //æ‰€åœ¨éƒ¨é—¨
                "TsI3tt8KjF4S7M"
            ],
            "defaultDepartment": "TsI3tt8KjF4S7M",    //é»˜è®¤éƒ¨é—¨ID
            "cellphone": "17711111126",               //æ‰‹æœºå·
            "active": true,                           //trueï¼šåœ¨èŒï¼Œfalseï¼šå·²ç¦»èŒï¼ˆè´¦å·é€»è¾‘åˆ é™¤ï¼Œåœ¨ç³»ç»Ÿä¸Šä¸å¯è§ï¼‰
            "userId": "1222234",                      //ç¬¬ä¸‰æ–¹å¹³å°äººå‘˜ID
            "email": null,                            //ç™»å½•é‚®ç®±ï¼ˆå¤§å†™å­—æ¯å…¨è½¬æ¢ä¸ºå°å†™å­—æ¯ï¼‰
            "showEmail": "17718535962@163.com",       //å‘˜å·¥ä¸ªäººä¿¡æ¯æ˜¾ç¤ºé‚®ç®±ï¼ˆå¤§å†™å­—æ¯ä¿æŒä¸å˜ï¼‰
            "external": false,                        //æ˜¯å¦å¤–éƒ¨å‘˜å·¥
            "authState": true,                        //æ˜¯å¦æ¿€æ´»ï¼Œè¡¨ç¤ºè´¦å·æ˜¯å¦å¯ç”¨
            "globalRoaming": "+86",                   //å›½é™…åŒºå·
            "note": "æ‰¹é‡ä¿®æ”¹",                        //å¤‡æ³¨                  
            "staffCustomForm": {                      //å‘˜å·¥è‡ªå®šä¹‰å­—æ®µ
                "base": "[{\"key\":\"8\",\"label\":\"åŒ—äº¬å¸‚/æµ·æ·€åŒº\"}]",  //å¸¸é©»åœ°
                "postType": "ID_3D5RavktVRM",         //å²—ä½
                "rankType": "ID_3D5RavktTRM"          //èŒçº§
            },
            "updateTime": "2023-05-31 17:14:57",      //æ›´æ–°æ—¶é—´
            "createTime": "2022-10-18 23:26:16"       //åˆ›å»ºæ—¶é—´
        },
        {
            "id": "TsI3tt8KjF4S7M:BbP3CdaKi$VcRw",    //å‘˜å·¥ID
            "name": "å¼ å›½é˜³å°å·",                       //å‘˜å·¥å§“å
            "nickName": "å°é˜³",                        //å‘˜å·¥åˆ«å
            "code": "00002",                          //å‘˜å·¥å·¥å·
            "departments": [                          //æ‰€åœ¨éƒ¨é—¨
                "TsI3tt8KjF4S7M"
            ],
            "defaultDepartment": "TsI3tt8KjF4S7M",    //é»˜è®¤éƒ¨é—¨ID
            "cellphone": "18515257800",               //æ‰‹æœºå·
            "active": true,                           //trueï¼šåœ¨èŒï¼Œfalseï¼šå·²ç¦»èŒï¼ˆè´¦å·é€»è¾‘åˆ é™¤ï¼Œåœ¨ç³»ç»Ÿä¸Šä¸å¯è§ï¼‰
            "userId": "BbP3CdaKi$VcRw",               //ç¬¬ä¸‰æ–¹å¹³å°äººå‘˜ID
            "email": null,                            //ç™»å½•é‚®ç®±ï¼ˆå¤§å†™å­—æ¯å…¨è½¬æ¢ä¸ºå°å†™å­—æ¯ï¼‰
            "showEmail": "18515257800@163.com",       //å‘˜å·¥ä¸ªäººä¿¡æ¯æ˜¾ç¤ºé‚®ç®±ï¼ˆå¤§å†™å­—æ¯ä¿æŒä¸å˜ï¼‰
            "external": false,                        //æ˜¯å¦å¤–éƒ¨å‘˜å·¥
            "authState": true,                        //æ˜¯å¦æ¿€æ´»ï¼Œè¡¨ç¤ºè´¦å·æ˜¯å¦å¯ç”¨
            "globalRoaming": "+86",                   //å›½é™…åŒºå·
            "note": "æ‰¹é‡ä¿®æ”¹",                        //å¤‡æ³¨                  
            "staffCustomForm": {                      //å‘˜å·¥è‡ªå®šä¹‰å­—æ®µ
                "base": "[{\"key\":\"8\",\"label\":\"åŒ—äº¬å¸‚/æµ·æ·€åŒº\"}]",  //å¸¸é©»åœ°
                "postType": "ID_3D5RavktVRM",         //å²—ä½
                "rankType": "ID_3D5RavktTRM"          //èŒçº§
            },
            "updateTime": "2023-05-31 17:14:57",      //æ›´æ–°æ—¶é—´
            "createTime": "2023-05-29 19:10:19"       //åˆ›å»ºæ—¶é—´
        },
    ]
}
```

## å¤±è´¥å“åº”
| HTTPçŠ¶æ€ç  | é”™è¯¯ç  | æè¿° | æ’æŸ¥å»ºè®®                                                  |
|:--------| :--- | :--- |:------------------------------------------------------|
| **400** | - | å‘˜å·¥åç§°ä¸èƒ½ä¸ºç©º | è¯·ç¡®è®¤ `name`ï¼ˆå‘˜å·¥å§“åï¼‰æ˜¯å¦ä¸ä¼ æˆ–è€…ä¼  `""`                          | 
| **400** | - | å­—æ®µrankTypeä¸åˆæ³•ï¼Œæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„æ•°æ® | è¯·ç¡®è®¤æ‰€ä¼ å€¼æ˜¯å¦å­˜åœ¨ | 
| **400** | - | å­—æ®µpostTypeä¸åˆæ³•ï¼Œæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„æ•°æ® | è¯·ç¡®è®¤æ‰€ä¼ å€¼æ˜¯å¦å­˜åœ¨ | 
| **400** | - | staffCustomFormä¸­çš„u_æµ‹è¯•1å­—æ®µä¸å±äºå‘˜å·¥è‡ªå®šä¹‰å­—æ®µ | è¯·ç¡®è®¤ `staffCustomForm`ï¼ˆå‘˜å·¥è‡ªå®šä¹‰å­—æ®µï¼‰æ‰€ä¼ å‚æ•°æ˜¯å¦å­˜åœ¨                |
| **412** | - | æ­¤ç”¨æˆ·æ— æ³•è¿›è¡Œä¿®æ”¹è´¦æˆ·æ‰‹æœºå·ï¼Œå› ä¿®æ”¹çš„æ‰‹æœºå·åœ¨ç³»ç»Ÿä¸­å·²ç»æ³¨å†Œ | è¯·ç¡®è®¤è¦ä¿®æ”¹çš„ç™»å½•æ‰‹æœºå·æ˜¯å¦å­˜åœ¨äºæœªè§£æ•£çš„ä¼ä¸š<br/>å¦‚æœå­˜åœ¨ï¼Œåªèƒ½åœ¨æœ¬ä¼ä¸šæ–°å¢å‘˜å·¥æ—¶ä½¿ç”¨è¯¥æ‰‹æœºå· | 
<!--
| **400** | - | ç™»å½•æ‰‹æœºå·å·²è¢«å…¶ä»–ä¼ä¸šä½¿ç”¨ï¼Œç”±äºå®‰å…¨é—®é¢˜ï¼Œæ— æ³•ä¿®æ”¹ | è¯·ç¡®è®¤è¦ä¿®æ”¹çš„ç™»å½•æ‰‹æœºå·æ˜¯å¦å­˜åœ¨æœªè§£æ•£çš„ä¼ä¸š | 
| **400** | - | ç™»å½•é‚®ç®±å·²è¢«å…¶ä»–ä¼ä¸šä½¿ç”¨ï¼Œç”±äºå®‰å…¨é—®é¢˜ï¼Œæ— æ³•ä¿®æ”¹ | è¯·ç¡®è®¤è¦ä¿®æ”¹çš„ç™»å½•é‚®ç®±æ˜¯å¦å­˜åœ¨æœªè§£æ•£çš„ä¼ä¸š | 
-->
